# 技術仕様：実装規約・標準

## 1. UI リソース管理

リソース定義の循環参照を防ぎ保守性を高めるため、以下の役割ごとにリソースファイルを分割管理する。原則として View 内のインラインスタイルは避け、`DynamicResource` による参照を徹底するものとする。

#### カラーとシンボル

- **LightColors.xaml / DarkColors.xaml**: テーマごとの色およびブラシ定義を保持する
- **Icons.xaml**: ベクターアイコン（Geometry）の定義を集約する

#### スタイルとテンプレート

- **ControlStyles.xaml (Atoms)**:
  - WPF 標準コントロール（Button, TextBox, CheckBox 等）のプリミティブな外観を定義する
  - アプリ全体で共有される「土台」となるスタイルを保持する
- **ComponentStyles.xaml (Molecules)**:
  - 標準コントロールを組み合わせ、特定の役割を持たせたコンポーネント（SidebarItem, Switch, Expander 等）を定義する
  - セマンティック（意味論的）な意図が明確な UI パターンを保持する
- **DataTemplates.xaml**: データ表示用のテンプレートを管理する
- **Styles.xaml**: 複数のリソースを組み合わせた、ページ特有または最終的な複合スタイルを記述する

#### 変換とその他

- **Converters.xaml**: IValueConverter 等のコンバーター定義を配置する

## 2. 品質担保

#### テスト駆動開発 (TDD)

新機能の追加やロジックの変更時は、まずテストコードを作成し、その後に実装を行うプロセスを遵守するものとする。

#### 例外ハンドリング

致命的なエラーはグローバル例外ハンドラーで捕捉し、ユーザーに詳細情報を通知した上で、安全に終了させるものとする。

## 3. その他規約

- **文字コード**: ファイルの読み書きは UTF-8 を基本とするが、読み込み時のエンコーディング維持を優先するものとする
- **エラー通知**: ユーザーへのフィードバックには、適切な内容のエラーメッセージを表示すること
