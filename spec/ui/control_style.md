# UI スタイルガイド：共通コントロール

本ドキュメントでは、アプリケーションを構成する最小単位の UI 部品（コントロール）に関する論理的なデザイン仕様を規定する。これらはデザインシステムで定めた「Soft Emphasis」規約を具現化したものであり、プラットフォームを問わず一貫した操作感を提供するための基準とする。

---

## 1. ボタン (Buttons)

ユーザーのアクションを誘発する主要な要素。役割に応じて 3 つのバリエーションを使い分ける。

### 1.1. プライマリボタン (Primary Button)

画面内での主要なアクション（保存、確定等）に使用する。

- **論理仕様**: 背景にアクセントカラーを 100% 適用し、文字色は背景とのコントラストが高い色（白または近白）とする。
- **状態変化**:
  - **Hover**: 背景の彩度をわずかに上げる、または輝度を 10% 変更する
  - **Active**: 押し込まれた感覚を与えるため、不透明度を 10% 下げる
- **物理実装例 (WPF)**: `PrimaryButtonStyle` を適用。

### 1.2. セカンダリボタン (Secondary Button)

補助的なアクション（キャンセル、閉じる等）に使用する。

- **論理仕様**: 強い背景色を持たず、境界線（Border）または控えめな背景色で存在を示す。
- **状態変化**: Hover 時にのみ、デザインシステムで定めた `ButtonHoverBackgroundBrush` を適用する。

### 1.3. アイコンボタン (Icon Button)

ツールバーや省スペースな場所での操作に使用する。

- **論理仕様**: 通常時は背景・境界線ともに透明とする。Soft Emphasis 規約に基づき、背景の透過的な塗りつぶしで状態を表現する。
- **状態変化 (Soft Emphasis)**:
  - **Hover**: グレー系統の透過背景（10%〜15%）を表示
  - **Selected**: アクセントカラーの透過背景（ライト: 15% / ダーク: 35%）を表示し、アイコン自体の色をアクセントカラー 100% へ変更する
- **物理実装例 (WPF)**: `IconToggleButtonStyle` を適用。

---

## 2. テキスト入力 (Text Input)

### 2.1. 標準テキストボックス

- **論理仕様**:
  - **形状**: 角丸 4px、境界線 1px。
  - **色彩**: 通常時の境界線は低コントラストなグレーとし、入力エリアの背景はテーマのベースカラーに従う。
- **フォーカス状態 (Focus)**: ユーザーが入力を開始した際、境界線の色をアクセントカラーへ変更する。この変化は 150ms 程度の滑らかな遷移を伴うものとする。

---

## 3. 選択・トグル (Selection & Toggle)

### 3.1. コンボボックス (ComboBox)

- **論理仕様**: リスト表示時も全体のトーンを維持するため、ポップアップ部分の背景色およびホバー色をデザインシステムのカラーパレットと完全に同期させる。
- **制約**: OS のデフォルトカラーによる上書きを許容せず、常に `PrimaryTextBrush` による視認性を確保する。

---

## 4. 共通の状態遷移とアニメーション

視覚的なフィードバックに一貫性を持たせるため、以下の数値を標準とする。

- **遷移時間 (Duration)**:
  - **瞬間的な反応**: 100ms（ボタンのホバー等）
  - **滑らかな展開**: 200ms〜300ms（ポップアップの表示、モード切替等）
- **イージング (Easing)**: 原則として `QuarticEaseOut` または `QuadraticEaseOut` を使用し、動きの終わりに減速感を与えることで「落ち着き」を演出する。

---

## 5. 物理数値リファレンス（デザイン・トークン）

| 項目               | 論理値      | 意図                                       |
| :----------------- | :---------- | :----------------------------------------- |
| 小要素の角丸       | 4px         | ボタン、入力フィールド等のシャープさを維持 |
| 大要素の角丸       | 8px         | パネル、ダイアログ等の親しみやすさを強調   |
| 最小クリック領域   | 32x32px     | マウス操作における誤操作の防止             |
| 標準テキストサイズ | 12px / 14px | 階層に応じた読みやすさの確保               |
