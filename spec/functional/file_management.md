# 機能仕様：ファイル操作・管理

## 1. 基本操作

- **新規作成**: 新しい Markdown ファイルを作成する。
- **ファイル選択**: ファイルダイアログを通じて、既存の Markdown ファイル（.md, .markdown など）を開く。
- **保存**: 編集中の Markdown ファイルの内容を保存する。

## 2. 外部ファイル変更検知

表示中の Markdown ファイルが外部（他のエディタ等）で変更された場合、自動的に検知して以下の処理を行う。

### 2.1. 通知と再読み込みの挙動

外部での変更を検知した場合、確認ダイアログを表示する。

- **未変更の場合 (IsDirty が False)**:
  - メッセージ: 「外部でファイルが変更されました。最新の状態を反映するために再読み込みしますか？」
  - 「はい」を選択: 最新の内容を読み込む。
- **変更がある場合 (IsDirty が True)**:
  - メッセージ: 「外部でファイルが変更されました。再読み込みして最新の状態を反映しますか？（現在の変更内容は失われます）」
  - 「はい」を選択: 外部の内容で上書きし、IsDirty を False に戻す。
  - 「いいえ」を選択: 現在の編集内容を維持する。

### 2.2. 監視のライフサイクル

- ファイルを開いた際、または新規作成後にはじめて保存した際に監視を開始する。
- ファイルを閉じた際、または別のファイルに切り替えた際に監視を停止する。
- アプリケーション自身による保存操作時には、自身の変更を検知して再読み込みが走らないよう制御する。

## 3. (削除) エクスポート機能

※将来的な拡張候補として残すが、現在はメニューから削除済み。
